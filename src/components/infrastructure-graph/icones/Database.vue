<template>
  <svg
    :width='width'
    :height='height'
    :x="realX"
    :y="realY"
    viewBox='0 0 66 86'
    :class="`database-icon database-icon--${status}`"
  >
    <defs>
      <linearGradient id='linear-gradient' x1='4.03' y1='25.55' x2='61.26' y2='25.55' gradientUnits='userSpaceOnUse'>
        <stop offset='0' stop-color='#fff' />
        <stop offset='1' stop-color='#d3d3d3' />
      </linearGradient>
    </defs>
    <path
      d='M61.17,60.79l-.06,5A24.66,24.66,0,0,1,53,70.28a53.35,53.35,0,0,1-13.68,2.86l-3.1.29H29.53C28,73.28,26.48,73.16,25,73c-6-.71-11.84-2-17.17-5A17.22,17.22,0,0,1,4.4,65.46V58.81a5.15,5.15,0,0,0,1.79,4.07,22,22,0,0,0,4.07,2.8,43.74,43.74,0,0,0,14.43,4,62.39,62.39,0,0,0,15,.18,51.64,51.64,0,0,0,14.23-3.37,17,17,0,0,0,5.83-3.6A6.3,6.3,0,0,0,61.17,60.79Z'
      style='fill:none' />
    <path
      d='M61.46,48.13c0,3.85,0,7.56,0,11.27a5.15,5.15,0,0,1-1.74,3.51,17,17,0,0,1-5.83,3.6,51.64,51.64,0,0,1-14.23,3.37,62.39,62.39,0,0,1-15-.18,43.74,43.74,0,0,1-14.43-4,22,22,0,0,1-4.07-2.8A5.2,5.2,0,0,1,4.4,58.66c.06-3.47,0-6.93,0-10.42.09,0,.18,0,.22,0,3.55,3,7.78,4.66,12.21,5.81a66.06,66.06,0,0,0,21.43,1.71A53.26,53.26,0,0,0,54,52.48a24.32,24.32,0,0,0,7.17-4.13A3,3,0,0,1,61.46,48.13Z'
      style='fill:#edeeef' />
    <path
      d='M33.92,58.81a62.6,62.6,0,0,1-19.88-3,23.33,23.33,0,0,1-6.25-3,11.48,11.48,0,0,1-1.9-1.65,4.74,4.74,0,0,1,0-6.92,13.65,13.65,0,0,1,4.32-3.08,42.36,42.36,0,0,1,11.58-3.56,63.14,63.14,0,0,1,21.42-.15A40.34,40.34,0,0,1,55.61,41.2,18.2,18.2,0,0,1,59.67,44c2.39,2.26,2.33,5,0,7.38A16.31,16.31,0,0,1,54,55,49.37,49.37,0,0,1,39.67,58.4C37.41,58.62,35.14,58.72,33.92,58.81Z'
      style='fill:#c9c9c9' />
    <path
      d='M5.92,50A5.13,5.13,0,0,1,4.4,46.56a5.25,5.25,0,0,1,1.49-3.47A13.65,13.65,0,0,1,10.21,40a42.47,42.47,0,0,1,11.58-3.56,63.14,63.14,0,0,1,21.42-.15A40.76,40.76,0,0,1,55.65,40a18.14,18.14,0,0,1,4.05,2.82c2.39,2.26,2.33,5,0,7.38a16.31,16.31,0,0,1-5.68,3.57A49.37,49.37,0,0,1,39.7,57.24c-2.26.23-4.53.33-5.75.41a62.6,62.6,0,0,1-19.88-3,23.33,23.33,0,0,1-6.25-3A11.48,11.48,0,0,1,5.92,50Z'
      class="glow" />
    <path
      d='M4.26,37.56C8.92,41.47,14.34,43.2,20,44.27A67.57,67.57,0,0,0,46.84,44a35.19,35.19,0,0,0,12-4.6c.82-.53,1.59-1.15,2.48-1.8v.71c0,2.13-.07,4.26,0,6.38a6,6,0,0,1-2.19,4.9,18.11,18.11,0,0,1-5.4,3.2,52.21,52.21,0,0,1-14.68,3.41A62,62,0,0,1,25,56.05C19.53,55.36,14.2,54.2,9.3,51.59a12,12,0,0,1-3.79-3A5.23,5.23,0,0,1,4.25,45.1c0-2.23,0-4.46,0-6.69C4.25,38.17,4.26,37.94,4.26,37.56Z'
      style='fill:#edeeef' />
    <path
      d='M33.85,47.71a62.43,62.43,0,0,1-19.89-3,23.91,23.91,0,0,1-6.25-3,13,13,0,0,1-1.9-1.65,4.74,4.74,0,0,1,0-6.92,13.68,13.68,0,0,1,4.32-3.09,43,43,0,0,1,11.57-3.56,63.4,63.4,0,0,1,21.42-.15,40.61,40.61,0,0,1,12.44,3.75,17.77,17.77,0,0,1,4.05,2.81c2.4,2.27,2.34,5,0,7.39A16.42,16.42,0,0,1,54,43.88,49.77,49.77,0,0,1,39.6,47.31C37.34,47.53,35.06,47.63,33.85,47.71Z'
      style='fill:#c9c9c9' />
    <path
      d='M5.84,38.92a5.13,5.13,0,0,1-1.52-3.45A5.25,5.25,0,0,1,5.81,32a13.65,13.65,0,0,1,4.32-3.08,42.47,42.47,0,0,1,11.58-3.56,63.14,63.14,0,0,1,21.42-.15A40.76,40.76,0,0,1,55.57,29a18.14,18.14,0,0,1,4,2.82c2.39,2.26,2.33,5,.05,7.38A16.31,16.31,0,0,1,54,42.72a49.37,49.37,0,0,1-14.37,3.43c-2.26.23-4.53.33-5.75.41A62.6,62.6,0,0,1,14,43.6a23.33,23.33,0,0,1-6.25-3A11.48,11.48,0,0,1,5.84,38.92Z'
      class="glow" />
    <path
      d='M4.18,26.47c4.67,3.9,10.09,5.64,15.75,6.71a67.94,67.94,0,0,0,26.84-.26,35.5,35.5,0,0,0,12-4.61c.82-.53,1.59-1.15,2.47-1.79v.7c0,2.13-.07,4.27,0,6.39a6,6,0,0,1-2.18,4.89,18,18,0,0,1-5.4,3.2A51.87,51.87,0,0,1,39,45.12,61.87,61.87,0,0,1,24.9,45,45,45,0,0,1,9.22,40.5a12.06,12.06,0,0,1-3.78-3A5.32,5.32,0,0,1,4.17,34c0-2.23,0-4.46,0-6.68Z'
      style='fill:#edeeef' />
    <path
      d='M5.69,29a5.13,5.13,0,0,1-1.52-3.45,5.25,5.25,0,0,1,1.49-3.47A13.65,13.65,0,0,1,10,19a42.47,42.47,0,0,1,11.58-3.56A63.14,63.14,0,0,1,43,15.27,40.76,40.76,0,0,1,55.42,19a18.14,18.14,0,0,1,4,2.82c2.39,2.26,2.33,5,.05,7.38a16.31,16.31,0,0,1-5.68,3.57,49.37,49.37,0,0,1-14.37,3.43c-2.26.23-4.53.33-5.75.41a62.6,62.6,0,0,1-19.88-3,23.33,23.33,0,0,1-6.25-3A11.48,11.48,0,0,1,5.69,29Z'
      style='fill:#282828' />
    <path
      d='M33.66,36.71c-7.5-.09-13.82-.9-19.94-3a23.63,23.63,0,0,1-6.27-3A12,12,0,0,1,5.55,29a4.78,4.78,0,0,1,0-7A13.87,13.87,0,0,1,9.85,19a42.36,42.36,0,0,1,11.61-3.58,63,63,0,0,1,21.48-.15A40.26,40.26,0,0,1,55.41,19a18,18,0,0,1,4.07,2.83c2.4,2.28,2.34,5.05.05,7.43a16.59,16.59,0,0,1-5.7,3.59,49.35,49.35,0,0,1-14.4,3.45C37.16,36.52,34.88,36.62,33.66,36.71Z'
      style='fill:url(#linear-gradient)' />
    <circle cx='55.62' cy='61.4' r='0.74' style='fill:#8969e6' />
    <circle cx='58.57' cy='59.93' r='0.74' style='fill:#8969e6' />
    <path
      class="light"
      d='M33.12,32a37.06,37.06,0,0,1-11.8-1.76,14.16,14.16,0,0,1-3.71-1.8,7,7,0,0,1-1.12-1,2.82,2.82,0,0,1,0-4.12A8.17,8.17,0,0,1,19,21.5a25.18,25.18,0,0,1,6.88-2.12,37.41,37.41,0,0,1,12.71-.09A24.15,24.15,0,0,1,46,21.52a11.15,11.15,0,0,1,2.41,1.67,2.85,2.85,0,0,1,0,4.4,9.79,9.79,0,0,1-3.37,2.13,29.53,29.53,0,0,1-8.53,2C35.2,31.89,33.84,32,33.12,32Z'
      style='stroke-miterlimit:10' />
  </svg>

</template>

<script>
  export default {
    name: 'Database',
    props: ['x', 'y', 'width', 'height', 'status'],
    computed: {
      realX() {
        return this.x - this.width/2;
      },
      realY() {
        return this.y - 2*(this.height/3);
      },
    },
  }
</script>

<style lang="scss" scoped>
  @keyframes glow {
    from { fill: lightgreen }
    to   { fill: green }
  }

  .database-icon {
    &--online { 
      .light {
        fill: none;
        stroke: green;
      }
      .glow {
         animation: 1s glow linear infinite alternate;
      }
    }
  }
</style>